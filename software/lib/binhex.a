; binhex: convert 8 bit number to hexadecimal
; argument: A=byte to convert
; return: A=higher nibble in hex, B=lower nibble in hex
binhex:
    tay
    and # %00001111 ; lower nibble
    tax
    lda .hexlookup,x
    xba ; save lower HEX in B
    tya ; restore byte
    lsr ; higher nibble
    lsr
    lsr
    lsr
    tax
    lda .hexlookup,x
    rts

.hexlookup:
    !text "0123456789ABCDEF"
